package summer.classload;


import java.net.URL;
import java.net.URLClassLoader;

/**
 * @ClassName: demo
 * @Description: TODO
 * @Author: Summer
 * @Date: 2020/5/26 15:29
 * @Version: v1.0.0
 * @Description: 利用反射方法在线demo类加载的
 **/
public class demo {
    public static void main(String[] args) throws Exception {
        //        URL url = new URL("http://127.0.0.1:8090/summer.jar");
////        URL url = new URL("file:e:/summer.jar");
//
//        URLClassLoader ucl = new URLClassLoader(new URL[]{url});
//        Class cls = ucl.loadClass("summer");
//        Method m = cls.getMethod("exec",null);
//        m.invoke(cls.newInstance(),null);

        URL url = new URL("http://127.0.0.1:8090/summer.jar");
        // 这里是一个二维数组
        URL[][] urls = {{url}};
        URLClassLoader urlClassLoader = URLClassLoader.class.getConstructor(URL[].class).newInstance(urls);
        urlClassLoader.loadClass("summer").getConstructor(String.class).newInstance("ipconfig");

    }
}
